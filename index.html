<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Selamat Ulang Tahun Sayang ‚ù§Ô∏è</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(45deg, #ff6b9d, #ffd93d, #6bcf7f, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      background-size: 400% 400%;
      animation: gradientShift 6s ease infinite;
      overflow-x: hidden;
      min-height: 100vh;
    }

    .music-control {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: #e91e63;
  color: #fff;
  font-size: 1.5em;
  padding: 15px;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: background 0.3s ease;
}
.music-control:hover {
  background: #c2185b;
}


    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      position: relative;
      padding: 20px;
    }

    .heart {
      position: absolute;
      color: #ff1744;
      font-size: 20px;
      animation: float 3s ease-in-out infinite;
      pointer-events: none;
      opacity: 0.8;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.8; }
      25% { transform: translateY(-20px) rotate(5deg); opacity: 1; }
      50% { transform: translateY(-40px) rotate(-5deg); opacity: 0.6; }
      75% { transform: translateY(-20px) rotate(3deg); opacity: 1; }
    }

    .title {
      background: linear-gradient(45deg, #ff6b9d, #ffd93d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 3rem;
      font-weight: bold;
      text-align: center;
      margin-bottom: 30px;
      animation: pulse 2s ease-in-out infinite;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .message-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      margin: 20px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.1);
      text-align: center;
      max-width: 600px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      animation: slideIn 1s ease-out;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .message { font-size: 1.2rem; line-height: 1.8; color: #333; margin-bottom: 20px; font-style: italic; }

    .love-button {
      background: linear-gradient(45deg, #ff6b9d, #ff8a80);
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 1.1rem;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 10px;
      box-shadow: 0 5px 15px rgba(255, 107, 157, 0.4);
    }

    .love-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(255, 107, 157, 0.6);
      animation: bounce 0.6s ease-in-out;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(-3px); }
      40% { transform: translateY(-8px); }
      60% { transform: translateY(-5px); }
    }

    .surprise-box {
      display: none;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      animation: fadeIn 1s ease-in;
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .cake { font-size: 5rem; animation: spin 3s linear infinite; margin: 20px 0; }

    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

    .balloon { position: absolute; font-size: 2rem; animation: floatUp 4s ease-in-out infinite; }

    @keyframes floatUp { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-30px); } }

    .confetti { position: absolute; width: 10px; height: 10px; background: #ff6b9d; animation: confettiFall 3s linear infinite; }

    @keyframes confettiFall { from { transform: translateY(-100vh) rotate(0deg); opacity: 1; } to { transform: translateY(100vh) rotate(360deg); opacity: 0; } }

    .photo-frame {
      border: 10px solid #fff; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      margin: 20px 0; overflow: hidden; animation: photoGlow 2s ease-in-out infinite alternate;
    }

    @keyframes photoGlow { from { box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3); } to { box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6); } }

    .countdown { font-size: 1.5rem; font-weight: bold; color: #ff1744; margin: 20px 0; }

    /* === PIN / LOCK SCREEN === */
    .pin-overlay {
      position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
      background: rgba(0,0,0,0.4); backdrop-filter: blur(4px); padding: 20px; z-index: 9999;
    }
    .pin-card {
      width: 100%; max-width: 420px; background: #fff; border-radius: 18px; padding: 24px 20px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2); text-align: center; border: 2px solid rgba(0,0,0,0.06);
      transform: scale(1); transition: transform .4s ease;
    }
    .unlock-success { transform: scale(0.95); }
    .pin-title { font-size: 1.25rem; margin-bottom: 12px; }
    .pin-subtitle { color: #666; font-size: .95rem; margin-bottom: 16px; }
    .pin-input {
      width: 100%; font-size: 1.1rem; padding: 12px 14px; border-radius: 10px;
      border: 2px solid #ffd1e1; outline: none; text-align: center; letter-spacing: 2px;
    }
    .pin-input:focus { border-color: #ff6b9d; }
    .pin-actions { margin-top: 14px; }
    .pin-button { background: linear-gradient(45deg, #ff6b9d, #ff8a80); color: #fff; border: none; padding: 12px 16px; border-radius: 10px; cursor: pointer; }
    .pin-error { display: none; color: #c62828; font-weight: bold; margin-top: 10px; }

    @media (max-width: 768px) {
      .title { font-size: 2rem; }
      .message-card { padding: 20px; margin: 10px; }
      .message { font-size: 1rem; }
    }
  </style>
</head>
<body>
    <audio id="bgMusic" src="Music.mp3" autoplay loop hidden></audio>


<div class="music-control" id="musicBtn">üéµ</div>


  <!-- === PIN OVERLAY (Baru) === -->
  <section id="pinContainer" class="pin-overlay">
    <div class="pin-card">
      <h2 class="pin-title">üîí Kode PIN Ulang Tahun</h2>
      <p class="pin-subtitle">Masukkan tanggal lahir (DD-MM-YYYY)</p>
      <input id="pinInput" class="pin-input" type="text" placeholder="contoh: 25-05-2006" maxlength="10" />
      <div class="pin-actions">
        <button id="pinSubmit" class="pin-button">Buka üéÅ</button>
      </div>
      <div id="pinError" class="pin-error">Tanggal lahirnya belum tepat, coba lagi ya ‚ù§Ô∏è</div>
    </div>
  </section>

  <!-- === KONTEN UTAMA (disembunyikan sampai PIN benar) === -->
  <main id="mainContainer" style="display:none;">
    <div class="container">
      <h1 class="title">üéâ Selamat Ulang Tahun Sayangku! üéâ</h1>

      <div class="message-card">
    <div class="photo-frame cake">
        <img src="Cinta.jpg" alt="Foto Kamu" style="width:100%; height:auto;">
    </div>
    <p class="message">
        "Hari ini adalah hari yang paling spesial karena dunia diberkati dengan kehadiranmu! 
        Setiap detik bersamamu adalah hadiah terindah dalam hidupku. 
        Semoga tahun ini membawa lebih banyak kebahagiaan, cinta, dan mimpi yang terwujud! üíñ"
    </p>
    <button class="love-button" id="loveBtn1">Klik untuk Kejutan! üíï</button>
</div>


      <div class="surprise-box" id="surprise1">
    <h2>üíù Pesan Cinta Untukmu üíù</h2>
    <div class="photo-frame">
        <img src="Foto Dia.jpg" alt="Foto Kenangan" style="width:100%; height:auto;">
    </div>
    <p style="text-align: center;">"Setiap kali melihat sesuatu yang indah, alam bawah sadarku selalu menyebutkan namamu"</p>
    <button class="love-button" id="loveBtn2">Kejutan Lagi! üéà</button>
</div>

      <div class="surprise-box" id="surprise2">
    <h2>üåü Janji Cintaku üåü</h2>
    <div class="photo-frame">
        <img src="Fotbar.jpg" alt="Foto Spesial" style="width:100%; height:auto;">
    </div>
    <p style="text-align: center;">"Kamu selalu membuat hari-hariku lebih indah" </p>
    <button class="love-button" id="loveBtn3">Satu Lagi! ü¶Ñ</button>
</div>


      <div class="surprise-box" id="surprise3">
    <h2>üé™ Harapan Terindahku üé™</h2>
    <div class="photo-frame">
        <img src="foto3.jpg" alt="Foto Kenangan Bersama" style="width:100%; height:auto;">
    </div>
    <p style="text-align: center;">"Kamu adalah alasanku untuk tersenyum setiap hari" </p>
    <button class="love-button" id="finalBtn">Kejutan Terakhir! üéÜ</button>
</div>

      <div class="surprise-box" id="finalSurprise">
        <h2>üè∞ Cinta Abadi üè∞</h2>
        <div class="countdown" id="countdown"></div>
        <p>"Sudah <span id="daysTogether">0</span> hari kita bersama, dan aku berharap akan ada ribuan hari lagi!. HAPPY BIRTHDAY MY LOVE! üíñüéä"</p><br>
        <p><a href="catatan/catatan.html" target="_blank">Dan Ini catatan Buat kamu</a></p>
      </div>
    </div>
  </main>

  <script>
    // Lagu
    const music = document.getElementById('bgMusic');
  const btn = document.getElementById('musicBtn');
  let isPlaying = false;

  btn.addEventListener('click', () => {
    if (isPlaying) {
      music.pause();
      isPlaying = false;
      btn.textContent = 'üéµ OFF'; 
    } else {
      music.play();
      isPlaying = true;
      btn.textContent = 'üéµ ON'; 
    }
  });

    // ===== KONFIGURASI =====
    // Tanggal lahir untuk PIN (format: DD-MM-YYYY)
    const CORRECT_BIRTHDAY = "09-09-2006"; // <-- Ubah di sini
    // Tanggal mulai jadian (format: YYYY-MM-DD)
    const RELATIONSHIP_START = "2024-07-31"; // <-- Ubah di sini

    // ===== UTIL =====
    function parseBirthday(ddmmyyyy) {
      const [dd, mm, yyyy] = ddmmyyyy.split("-").map(Number);
      return { dd, mm, yyyy };
    }

    function nextBirthdayFrom(birthdayStr, now = new Date()) {
      const { dd, mm } = parseBirthday(birthdayStr);
      // JS month index 0-11, so mm-1
      let next = new Date(now.getFullYear(), mm - 1, dd);
      if (next < new Date(now.getFullYear(), now.getMonth(), now.getDate())) {
        next = new Date(now.getFullYear() + 1, mm - 1, dd);
      }
      return next;
    }

    function humanCountdown(toDate, fromDate = new Date()) {
      const diff = toDate - fromDate;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      return { days, hours, minutes };
    }

    // ===== PIN LOGIC =====
    function checkPIN() {
      const inputEl = document.getElementById('pinInput');
      const val = (inputEl.value || '').trim();
      const errorDiv = document.getElementById('pinError');

      if (val === CORRECT_BIRTHDAY) {
        const card = document.querySelector('#pinContainer .pin-card');
        card.classList.add('unlock-success');
        setTimeout(() => {
          document.getElementById('pinContainer').style.display = 'none';
          document.getElementById('mainContainer').style.display = 'block';
          setTimeout(() => {
            alert('üíñ Selamat datang di website spesial untuk ulang tahunmu, sayang! Klik tombol-tombolnya untuk kejutan! üíñ');
          }, 300);
          startMainAnimations();
        }, 600);
      } else {
        errorDiv.style.display = 'block';
        inputEl.value = '';
        inputEl.focus();
        setTimeout(() => { errorDiv.style.display = 'none'; }, 2000);
      }
    }

    // Format input otomatis DD-MM-YYYY
    function formatPINInput(e) {
      let v = e.target.value.replace(/[^\d]/g, '');
      if (v.length > 2) v = v.slice(0,2) + '-' + v.slice(2);
      if (v.length > 5) v = v.slice(0,5) + '-' + v.slice(5,9);
      e.target.value = v.slice(0,10);
    }

    // ===== ANIMASI UTAMA =====
    function startMainAnimations() {
      setInterval(createHeart, 2000);
      setInterval(createBalloon, 3000);
      setInterval(createConfetti, 4000);
    }

    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.textContent = 'üíñ';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDelay = Math.random() * 2 + 's';
      heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 5000);
    }

    function createBalloon() {
      const balloon = document.createElement('div');
      balloon.className = 'balloon';
      const icons = ['üéà', 'üéâ', 'üéä', 'üíï', 'üåü'];
      balloon.textContent = icons[Math.floor(Math.random() * icons.length)];
      balloon.style.left = Math.random() * 100 + 'vw';
      balloon.style.top = Math.random() * 100 + 'vh';
      balloon.style.animationDelay = Math.random() * 2 + 's';
      document.body.appendChild(balloon);
      setTimeout(() => balloon.remove(), 4000);
    }

    // === (BARU) Fungsi confetti yang sebelumnya hilang ===
    function createConfetti() {
      const c = document.createElement('div');
      c.className = 'confetti';
      c.style.left = Math.random() * 100 + 'vw';
      c.style.top = '-20px';
      c.style.background = ['#ff6b9d', '#ffd93d', '#6bcf7f', '#4ecdc4', '#45b7d1'][Math.floor(Math.random()*5)];
      c.style.width = (Math.random() * 8 + 4) + 'px';
      c.style.height = (Math.random() * 8 + 4) + 'px';
      c.style.animationDuration = (Math.random() * 2 + 2) + 's';
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 4000);
    }

    // ===== KEJUTAN BUTTONS =====
    function initSurpriseButtons() {
      const btn1 = document.getElementById('loveBtn1');
      const btn2 = document.getElementById('loveBtn2');
      const btn3 = document.getElementById('loveBtn3');
      const finalBtn = document.getElementById('finalBtn');

      if (btn1) btn1.addEventListener('click', () => {
        document.getElementById('surprise1').style.display = 'block';
        btn1.style.display = 'none';
        for (let i = 0; i < 10; i++) setTimeout(createHeart, i * 100);
      });

      if (btn2) btn2.addEventListener('click', () => {
        document.getElementById('surprise2').style.display = 'block';
        document.getElementById('surprise1').style.display = 'none';
        for (let i = 0; i < 8; i++) setTimeout(createBalloon, i * 150);
      });

      if (btn3) btn3.addEventListener('click', () => {
        document.getElementById('surprise3').style.display = 'block';
        document.getElementById('surprise2').style.display = 'none';
        for (let i = 0; i < 15; i++) setTimeout(createConfetti, i * 100);
      });

      if (finalBtn) finalBtn.addEventListener('click', () => {
        document.getElementById('finalSurprise').style.display = 'block';
        document.getElementById('surprise3').style.display = 'none';
        for (let i = 0; i < 20; i++) setTimeout(() => { createHeart(); createConfetti(); createBalloon(); }, i * 200);
        updateCountdown();
      });
    }

    function updateCountdown() {
      const now = new Date();
      const next = nextBirthdayFrom(CORRECT_BIRTHDAY, now);
      const { days, hours, minutes } = humanCountdown(next, now);
      const cd = document.getElementById('countdown');
      if (cd) cd.textContent = `Ulang tahun berikutnya dalam: ${days} hari, ${hours} jam, ${minutes} menit! üéÇ`;

      const startDate = new Date(RELATIONSHIP_START);
      const daysTogether = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
      const dt = document.getElementById('daysTogether');
      if (dt) dt.textContent = daysTogether;
    }

    // Efek klik di mana saja (aktif setelah unlock)
    function initGlobalClickHearts() {
      document.addEventListener('click', function (e) {
        const main = document.getElementById('mainContainer');
        if (!main || main.style.display === 'none') return;
        if (e.target.classList.contains('love-button') || e.target.classList.contains('pin-button') || e.target.id === 'pinInput') return;
        const heart = document.createElement('div');
        heart.textContent = 'üíï';
        heart.style.position = 'fixed';
        heart.style.left = e.clientX + 'px';
        heart.style.top = e.clientY + 'px';
        heart.style.fontSize = '20px';
        heart.style.pointerEvents = 'none';
        heart.style.animation = 'float 2s ease-out forwards';
        heart.style.zIndex = '1000';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2000);
      });
    }

    // ==== INIT ====
    document.addEventListener('DOMContentLoaded', () => {
      // PIN events
      const pinSubmit = document.getElementById('pinSubmit');
      const pinInput = document.getElementById('pinInput');
      if (pinSubmit) pinSubmit.addEventListener('click', checkPIN);
      if (pinInput) {
        pinInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') checkPIN(); });
        pinInput.addEventListener('input', formatPINInput);
        pinInput.focus();
      }

      initSurpriseButtons();
      initGlobalClickHearts();
    });
  </script>
</body>
</html>
